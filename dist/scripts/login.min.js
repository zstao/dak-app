"use strict";!function(){function t(){d.style.display="none",e()?f.removeAttribute("disabled"):f.setAttribute("disabled","disabled")}function n(t){d.innerHTML=t,d.style.display="block"}function e(){return w.test(l.value)&&m.test(c.value)}function o(){return e()?{username:l.value,password:c.value}:null}function i(t){return axios.post(v,t)}function s(t){var n=Object.keys(t);n.forEach(function(n){window.sessionStorage.setItem(n,t[n])})}function r(){window.sessionStorage.clear()}var a=document.querySelector.bind(document),u=a(".login-form"),l=a(".username"),c=a(".password"),d=a(".login-error"),f=a(".login-btn"),v="http://localhost:6005/auth",w=/^\w[-\w]{4,20}$/,m=/^\w[-\w]{5,20}$/;l.addEventListener("input",t),c.addEventListener("input",t),u.addEventListener("submit",function(t){t.preventDefault();var e=o();e.to="/views/root-manage.html";var a;i(e).then(function(t){a=t&&t.data||{},a.to?(s(a),a&&a.to&&(window.location.href=a.to)):(r(),n(a.msg))},function(t){console.log(t)})})}();