"use strict";!function(){function t(){c.style.display="none",n()?f.removeAttribute("disabled"):f.setAttribute("disabled","disabled")}function e(t){c.innerHTML=t,c.style.display="block"}function n(){return h.test(u.value)&&m.test(d.value)}function o(){return n()?{username:u.value,password:d.value}:null}function i(t){return axios.post(w,t)}function a(t){var e=Object.keys(t);e.forEach(function(e){window.sessionStorage.setItem(e,t[e])})}function r(){window.sessionStorage.clear()}var s=document.querySelector.bind(document),l=s(".login-form"),u=s(".username"),d=s(".password"),c=s(".login-error"),f=s(".login-btn"),w="http://192.168.15.44:8001/auth/login";w="/api/auth/login",w="http://www.sify21.com:8001/auth/login";var h=/^\w[-\w]{2,20}$/,m=/^\w[-\w]{4,20}$/,v={admin:"root-manage.html",dispatcher:"dispatcher.html",handler:"handler.html"};u.addEventListener("input",t),d.addEventListener("input",t),l.addEventListener("submit",function(t){t.preventDefault();var n=o();n.to="/views/root-manage.html";i(n).then(function(t){t=t.data||{},console.log(t);var n=v[t.user_role];n?(a(t),window.location.href=n):(r(),e(t.message||""))},function(t){console.log(t),window.location.href})})}();